<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta http-equiv="Content-Type" content="text/plain; charset=utf-8">
  <title>SubAdjust</title>
  <link rel="icon" type="image/x-icon" href="app.svg">
  <link rel="stylesheet" type="text/css" href="style.css">
  <script type="text/javascript" src="head.js"></script>

<body>
  <img id="load_img" src="loader.svg" />
  <div class="topnav">
    <a onclick="open_file()">Open</a>
    <a onclick="save_file()">Save</a>
    <a onclick="saveas_file()">Save As</a>
    <a onclick="reload_file()">Reload</a>
    <a title="Add another subtitles after the current one and restructure the whole line numbers and time stamps accordingly.">Concatenate</a>
    <a style="position: absolute; right:44px;" onclick="about()">About</a>
    <a style="position: absolute; right:7px;" onclick="clean_exit()">Quit</a>
  </div>
  <fieldset id="fsFile">
    <legend>Input file</legend>
    <textarea readonly id="filepath"></textarea>
  </fieldset>
  <div class="topnav">
    <fieldset id="fsAdj">
      <legend align="center"><a onclick="subAdjust()" title="Click to apply to the subtitles your changes in the inputs">Subtitles Adjustment by ...</a></legend>
      <table>
        <tr>
          <td>
            <fieldset style="width: 120px" title="Actual or required start and stop of the subtitles">
              <legend>Time limits</legend>
              <table>
                <tr>
                  <td>
                    <label for="start_time">Start</label>
                  </td>
                  <td>
                    <input id="start_time" type="time" step="0.001" value="00:00:00" />
                  </td>
                  <td>
                </tr>
                <tr>
                  <td>
                    <label for="end_time">End</label>
                  </td>
                  <td>
                    <input id="end_time" type="time" step="0.001" value="01:01:01" />
                  </td>
                  <td>
                </tr>
              </table>
            </fieldset>
          </td>
          <td>
            <fieldset style="width: 80px" title="Actual or required start offset and duration coefficient of the subtitles">
              <legend>Values</legend>
              <table>
                <tr>
                  <td>
                    <label for="offset">Start&nbsp;offset&nbsp;(sec)</label>
                  </td>
                  <td>
                    <input id="offset" type="number" step="0.001" value="" />
                  </td>
                  <td>
                </tr>
                <tr>
                  <td>
                    <label for="factor">Duration&nbsp;coeff.</label>
                  </td>
                  <td>
                    <input id="factor" type="number" step="any" value="" />
                  </td>
                </tr>
              </table>
            </fieldset>
          </td>
        </tr>
      </table>
    </fieldset>
  </div>
  <div class="topnav">
    <fieldset id="fsGo">
      <legend>Go to</legend>
      <a id="toTop">start</a>
      <fieldset class="inFsGo">
        <legend align="center">Middle ...</legend>
        <a id="toMiddleLine">line</a>
        <a id="toMiddleSub">sub</a>
        <a id="toMiddleTime">time</a>
      </fieldset>
      <a id="toBottom">end</a>
      <fieldset class="inFsGo">
        <legend align="center">Line, sub or time value ...</legend>
        <input id="current_line_number" type="number" class"smallnum" step="1" value="1" min="1" max="99999" />
        <input id="current_sub_number" type="number" class"smallnum" step="1" value="1" min="1" max="99999" />
        <!--input id="current_sub_time" type="number" class"smallnum" step="1" value="1" min="1" max="99999" /-->
        <input id="current_sub_time" type="time" step="1" value="00:00:00" />
      </fieldset>
    </fieldset>
  </div>

  <div class="topnav">
    <fieldset id="fsRe">
      <legend style="" title="Search and replace with javascript RegExp (See RegExp literal:&#013;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp)">Edit</legend>
      <div>
        <input type="text" list="re_list" id="reSrch" value="/{\\an8}/g" />
        <datalist id="re_list">
          <option value="/{\\an8}/g"></option>
        </datalist>
        <input type="text" id="reRepl" />
      </div>
      <div>
        <div style="width: 100%; display:flex; justify-content: space-between;">
            <input type="button" id="reRun" value="Replace" title="Replace all the occurrence of the RegExp to the subtitle and blinks its border.&#013;Green blinking means the RegExp was successful.&#013;Red blinking means it was not."/>
            <div>
          <input type="button" id="remLast" value="Remove last sub" title="ToDo" />&nbsp;
          <input type="button" id="undoRem" value="Undo Remove" title="ToDo" />
            </div>
        </div>
    </fieldset>
  </div>


  <div id="file_container">
    <div autofocus id="file_lines" spellCheck="false"></div>
    <div autofocus id="file_text" contentEditable=true spellCheck="false"></div>
  </div>
</body>

</html>
